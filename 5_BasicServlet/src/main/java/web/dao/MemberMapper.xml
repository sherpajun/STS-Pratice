<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="a.b.c">

<!-- DB에서의 컬럼 값이랑 DTO 객체의 필드명이 다를땐 resultMap을 사용하여 매핑시켜준다. -->
    <resultMap type="web.vo.Member" id="m">
        <result column="id" property="id"></result>
        <result column="pw" property="pw"></result>
        <result column="name" property="name"></result>
        
    </resultMap>

<!--     select는 resultType을 명시하지만 insert,update,delete는 내부적으로 제공해주기때문에 명시하지 않는다. -->
    <insert id="member_insert" parameterType="web.vo.Member">
        insert into Member(id,pw,name) values (
                member_num_seq.nextval, 
                #{id},
                #{pw},
                #{name}
               
        )
    </insert>

<!--     parameterType이 HashMap으로 된 이유는 String으로 id, password를 같이 전달해줄수 없으니 
         DAO 객체에서 HashMap으로 키밸류 값으로 전달해주어야 한다. -->
    <select id="member_login" parameterType="web.vo.Member" resultType="String">
        select name from Member where id = #{id} and pw = #{pw}
    </select>


</mapper>